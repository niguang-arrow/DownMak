# 牛客网习题

## 2017 年 8 月 30 日

+   若要重载+、=、<<、=和[]运算符，则必须作为类成员重载的运算符是: `=` 和 `[]`

    +   解释：

    +   (1)只能使用成员函数重载的运算符有：=、()、[]、->、new、delete。

    +   (2)单目运算符最好重载为成员函数。

    +   (3) 对于复合的赋值运算符如+=、-=、*=、/=、&=、!=、~=、%=、>>=、<<=建议重载为成员函数。

    +   (4) 对于其它运算符，建议重载为友元函数。

        运算符重载的方法是定义一个重载运算符的函数，在需要执行被重载的运算符时，系统就自动调用该函数，以实现相应的运算。也就是说，运算符重载是通过定义函数实现的。运算符重载实质上是函数的重载。

+   下面代码的结果是:

    ```cpp
    char a=101;
    int sum=200;
    a+=27;sum+=a;
    printf("%d\n",sum);
    ```

    +   结果是

        ```bash
        a为char型,-128~127,a=101,a+=27后溢出a=-128:
        a=127时不溢出      01111111 (127补码)
        a+=1时溢出         10000000 (-128补码)
                                    
        sum += a;
        sum为int型，a(char提升为int)
        10000000  -------->
        11111111  11111111   11111111   10000000(-128补码)
                                                                  
        所以,sum=200-128:
              00000000    00000000   00000000    11001000
         +    11111111    11111111   11111111    10000000
         ----------------------------------------------------------
              00000000  00000000  00000000  01001000    (64+8=72)   
        ```

        ​